<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" media="screen " href="./styles/reset.css" />
    <link rel="stylesheet" media="screen " href="./styles/style.css" />
    <script src="./js/jquery.js"></script>
    <script src="./js/framework.js"></script>
    
    <title>Quiz Registration</title>
</head>

<body>
    
    <script>
        
        function validate() {
            
            if(isUsernameValid() && isPasswordValid() && isBirthdateValid())
                $("#btnsubmit").prop( "disabled", false );
            else
                $("#btnsubmit").prop( "disabled", true );
        }
        
        function onBirthdateChange() {
            
            if(isBirthdateValid())
                $("#birthdateError").html("");
            else
                $("#birthdateError").html("Das Datumsformat is ungültig");
            
            validate();
        }
        
         function isBirthdateValid() {            
            if(!$("#birthdate").val())
                return true;
            return isValidDate($("#birthdate").val());
        }
        
        function isValidDate(strDate) {
            return strDate.match(/^[0-9]{4}\-(0[1-9]|1[012])\-(0[1-9]|[12][0-9]|3[01])/);
        }
        
        function onUsernameInput() {
            if(isUsernameValid())
                $("#usernameError").html("");
            else
                $("#usernameError").html("min. 4 Zeichen max. 8 Zeichen");
            
            validate();
        }
        
        function isUsernameValid() {
            var length = $("#username").val().length;
            return length >= 4 && length <= 8;
        }
        
        function onPasswordInput() {
            if(isPasswordValid())
                $("#passwordError").html("");
            else
                $("#passwordError").html("min. 4 Zeichen max. 8 Zeichen");
            
            validate();
        }
        
        function isPasswordValid() {
            var length = $("#password").val().length;
            return length >= 4 && length <= 8;
        }
        
    </script>
    
    <header>
        <a class="btn" href="#" title="Abmelden">Abmelden</a>
        <img src="./img/big-logo-small.png" alt="Big Logo" />

        <h1>Quiz</h1>

    </header>
    <section>

        <form id="accountForm" method="post" action="table.html" class="clearfix" >
            <fieldset>
                <legend>Persönliche Daten</legend>
                <div>
                    <label for="firstname">Vorname:</label>
                    <input type="text" id="firstname" name="firstname" autofocus>
                </div>
                <div>
                    <label for="surname">Nachname:</label>
                    <input type="text" id="surname" name="surname">

                </div>
                <div>
                    <label for="birthdate">Geburtstag:</label>
                    <input type="date" id="birthdate" name="geburtstag" onchange="onBirthdateChange()" >
                    <span id="birthdateError" class="inputerror"></span>
                </div>
                <div>
                    <label for="geschlecht">Geschlecht:</label>
                    <select name="gender" id="geschlecht">
                        <option value="1">Männlich</option>
                        <option value="2">Weiblich</option>
                    </select>
                </div>
            </fieldset>
            <fieldset>
                <legend>Login Daten</legend>
                <div>
                    <label for="username">Benutzername*:</label>
                    <input type="text" id="username" oninput="onUsernameInput()" required>
                    <span id="usernameError" class="inputerror"></span>
                </div>
                <div>
                    <label for="password">Passwort*:</label>
                    <input type="password" id="password" oninput="onPasswordInput()" pattern=".{4,8}" required>
                    <span id="passwordError" class="inputerror"></span>
                </div>
            </fieldset>
            <input id="btnsubmit" name="Registrieren" type="submit" value="Registrieren" disabled class="clearfix" >
        </form>
    </section>
    <section class="center">

        Mit " * " gekennzeichnete Felder sind Pflichtfelder.
    </section>
    <footer>

        <br>&copy;
        <time>2014</time>
        BIG Quiz
    </footer>
</body>

</html>
